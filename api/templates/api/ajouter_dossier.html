{% extends 'base_manager.html' %}
{% load static %}
{% load form_extras %}

{% block content %}
<section class="py-5">
  <div class="container mt-5">
    <div class="row justify-content-center">
      <div class="col-md-7">

        <div class="card shadow-lg rounded-4 p-4">
          <div class="card-header bg-warning text-dark text-center">
            <h4 class="mb-0">Créer un Dossier Entreprise</h4>
          </div>

          <div class="card-body">

            <!-- Afficher le comptable ou expert comptable -->
            <div class="alert alert-info">
              <strong>Gérant :</strong> {{ gerant.nom_gerant }} (Mail: {{ gerant.email }})
            </div>

            <form method="POST">
              {% csrf_token %}

              {# erreurs globales du formulaire #}
                {% if form.non_field_errors %}
                  <div class="alert alert-danger">
                    {{ form.non_field_errors }}
                  </div>
                {% endif %}

              {# champs cachés éventuels (ex: initial, management form) #}
              {% for hidden in form.hidden_fields %}
                {{ hidden }}
              {% endfor %}

              <!-- NOM -->
              <div class="mb-3">
                <label class="form-label">{{ form.nom.label }}</label>
                {{ form.nom|add_class:"form-control" }}
                {{ form.nom.errors }}
              </div>

              <!-- Pas de NOM GERANT
              <div class="mb-3">
                <label class="form-label">{\{ form.nom_gerant.label }}</label>
                {\{ form.nom_gerant|add_class:"form-control" }}
                {\{ form.nom_gerant.errors }}
              </div>
              -->

              <!-- SIRET -->
              <div class="mb-3">
                <label class="form-label">{{ form.siret.label }}</label>
                {{ form.siret|add_class:"form-control" }}
                {{ form.siret.errors }}
              </div>

              <!-- APE -->
              <div class="mb-3">
                <label class="form-label">{{ form.ape.label }}</label>
                {{ form.ape|add_class:"form-control" }}
                {{ form.ape.errors }}
              </div>

              <!-- ADRESSE -->
              <div class="mb-3">
                <label class="form-label">{{ form.adresse.label }}</label>
                {{ form.adresse|add_class:"form-control" }}
                {{ form.adresse.errors }}
              </div>

              <!-- DATE CREATION -->
              <div class="mb-3">
                <label class="form-label">{{ form.date_creation.label }}</label>
                {{ form.date_creation|add_class:"form-control" }}
                {{ form.date_creation.errors }}
              </div>

              <div class="text-center mt-4">
                <button type="submit" class="btn btn-warning px-4">Créer le dossier</button>
              </div>
            </form>
          </div>
        </div>

      </div>
    </div>
  </div>
</section>
{% endblock %}





